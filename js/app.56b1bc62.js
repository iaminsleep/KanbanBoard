(function(){"use strict";var t={905:function(t,a,e){var s=e(9242),n=e(3396);const r={class:"board-app"},i=(0,n._)("header",{class:"board-app__header"},[(0,n._)("div",{class:"board-app__inner"},[(0,n._)("h1",null,"Канбан-доска")])],-1),o={class:"board-app__main"};function d(t,a,e,s,d,c){const l=(0,n.up)("tasks-container");return(0,n.wg)(),(0,n.iD)("body",r,[i,(0,n._)("main",o,[(0,n.Wm)(l)])])}var c=e(7139);const l={class:"board-app__inner"},u={class:"taskboard"},k=(0,n._)("h2",{class:"visually-hidden"},"Ваши задачи:",-1),h=["onDrop"],g={key:0,class:"taskboard__item task task--empty"};function p(t,a,e,r,i,o){const d=(0,n.up)("add-task"),p=(0,n.up)("task-item"),f=(0,n.up)("clear-button");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(d),(0,n._)("section",u,[k,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.categories,(t=>((0,n.wg)(),(0,n.iD)("article",{key:t.id,class:"taskboard__group"},[(0,n._)("h3",{class:(0,c.C_)(["taskboard__group-heading",o.headingClass(t.id)])},(0,c.zw)(t.title),3),(0,n._)("div",{class:"taskboard__list taskboard__list--sorted",onDrop:a=>o.onDrop(a,t.id),onDragover:a[0]||(a[0]=(0,s.iM)((()=>{}),["prevent"])),onDragenter:a[1]||(a[1]=(0,s.iM)((()=>{}),["prevent"]))},[0===o.sortedTasks(t.id).length?((0,n.wg)(),(0,n.iD)("div",g,[(0,n._)("p",null,(0,c.zw)(4!==t.id?"Перетащите карточку":"Корзина пуста"),1)])):((0,n.wg)(!0),(0,n.iD)(n.HY,{key:1},(0,n.Ko)(o.sortedTasks(t.id),(t=>((0,n.wg)(),(0,n.j4)(p,{key:t.id,task:t},null,8,["task"])))),128))],40,h),4===t.id?((0,n.wg)(),(0,n.j4)(f,{key:0,onClick:o.clearBasket},null,8,["onClick"])):(0,n.kq)("",!0)])))),128))])])}const f={class:"add-task"},_=(0,n._)("h2",{class:"visually-hidden"},"Добавить задачу",-1),m={class:"add-task__input-wrapper"},v=(0,n._)("label",{for:"add-task"},"Новая задача",-1);function w(t,a,e,r,i,o){const d=(0,n.up)("add-button");return(0,n.wg)(),(0,n.iD)("section",f,[_,(0,n._)("form",{class:"add-task__form","aria-label":"Форма добавления задачи",onSubmit:a[2]||(a[2]=(0,s.iM)(((...t)=>o.addTask&&o.addTask(...t)),["prevent"]))},[(0,n._)("div",m,[v,(0,n.wy)((0,n._)("input",{type:"text",name:"task-name",id:"add-task",placeholder:"Название задачи...","onUpdate:modelValue":a[0]||(a[0]=t=>i.newTask=t),onKeyup:a[1]||(a[1]=(0,s.D2)(((...t)=>o.addTask&&o.addTask(...t)),["enter"])),required:"",autocomplete:"off"},null,544),[[s.nr,i.newTask]])]),(0,n.Wm)(d)],32)])}const b={class:"add-task__button button",type:"submit"},y=(0,n._)("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("rect",{x:"10.0833",y:"3.66663",width:"1.83333",height:"14.6667",fill:"white"}),(0,n._)("rect",{x:"18.3333",y:"10.0833",width:"1.83333",height:"14.6667",transform:"rotate(90 18.3333 10.0833)",fill:"white"})],-1),T=(0,n._)("span",null,"Добавить",-1),I=[y,T];function D(t,a){return(0,n.wg)(),(0,n.iD)("button",b,I)}var O=e(89);const x={},S=(0,O.Z)(x,[["render",D]]);var j=S,C={inject:["tasks"],components:{addButton:j},data(){return{newTask:""}},methods:{addTask(){if(""!==this.newTask){const t={id:(new Date).getTime(),name:this.newTask,categoryId:1};this.tasks.push(t),localStorage.setItem("tasksItems",JSON.stringify(this.tasks)),this.newTask=""}}}};const A=(0,O.Z)(C,[["render",w]]);var N=A;const B={class:"task__body"},Z={class:"task__view"},J=["value"];function K(t,a,e,r,i,o){return(0,n.wg)(),(0,n.iD)("div",{class:(0,c.C_)(["taskboard__item task",[o.activeTask,o.taskType]]),onDragstart:a[2]||(a[2]=t=>o.onDragStart(t,e.task)),draggable:"true"},[(0,n._)("div",B,[(0,n._)("p",Z,(0,c.zw)(this.taskName),1),(0,n._)("input",{class:"task__input",type:"text",value:e.task.name,ref:"editTaskInput",onKeyup:a[0]||(a[0]=(0,s.D2)(((...t)=>o.editTask&&o.editTask(...t)),["enter"]))},null,40,J)]),(0,n._)("button",{class:"task__edit",type:"button","aria-label":"Изменить",onClick:a[1]||(a[1]=(...t)=>o.editTask&&o.editTask(...t))})],34)}var M={inject:["tasks"],data(){return{taskName:this.task.name,whichTaskIsActive:null}},methods:{saveChanges(){const t=this.tasks,a=this.$refs.editTaskInput.value;""!==a&&(this.taskName=a,t.find((t=>t.id===this.whichTaskIsActive)).name=this.taskName,this.whichTaskIsActive=null,localStorage.setItem("tasksItems",JSON.stringify(t)))},editTask(){null===this.whichTaskIsActive?this.whichTaskIsActive=this.task.id:this.saveChanges()},onDragStart(t,a){t.dataTransfer.dropEffect="move",t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("itemId",a.id)}},computed:{activeTask(){return this.whichTaskIsActive===this.task.id?"task--active":null},taskType(){let t="";const a=this.task.categoryId;return 1===a&&(t=null),2===a&&(t="task--processing"),3===a&&(t="task--done"),4===a&&(t="task--basket"),t}},props:{task:Object,type:String}};const z=(0,O.Z)(M,[["render",K]]);var W=z;const q={class:"taskboard__button button button--clear",type:"button"},E=(0,n._)("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("rect",{x:"15.5374",y:"5.16638",width:"1.83333",height:"14.6667",transform:"rotate(45 15.5374 5.16638)",fill:"white"}),(0,n._)("rect",{x:"16.8337",y:"15.5372",width:"1.83333",height:"14.6667",transform:"rotate(135 16.8337 15.5372)",fill:"white"})],-1),H=(0,n._)("span",null,"Очистить",-1),P=[E,H];function Y(t,a){return(0,n.wg)(),(0,n.iD)("button",q,P)}const F={},U=(0,O.Z)(F,[["render",Y]]);var V=U,$={inject:["tasks","categories"],components:{addTask:N,taskItem:W,clearButton:V},methods:{sortedTasks(t){let a=this.tasks.filter((a=>a.categoryId===t));return a},clearBasket(){let t=this.tasks;const a=t=>4!==t.categoryId;t.filter(a);for(let e=t.length-1;e>=0;e-=1)a(t[e])||t.splice(e,1);localStorage.setItem("tasksItems",JSON.stringify(t))},onDrop(t,a){const e=parseInt(t.dataTransfer.getData("itemId"));for(let s in this.tasks){const t=this.tasks[s];t.id===e&&(t.categoryId=a,localStorage.setItem("tasksItems",JSON.stringify(this.tasks)))}},headingClass(t){return 1===t?"taskboard__group-heading--backlog":2===t?"taskboard__group-heading--processing":3===t?"taskboard__group-heading--done":4===t?"taskboard__group-heading--basket":void 0}}};const G=(0,O.Z)($,[["render",p]]);var L=G,Q={name:"Kanban-board",components:{tasksContainer:L},data(){return{categoriesArray:[{id:1,title:"Бэклог"},{id:2,title:"В процессе"},{id:3,title:"Готово"},{id:4,title:"Корзина"}],tasksArray:JSON.parse(localStorage.getItem("tasksItems"))||[{id:1,name:"Отдых",categoryId:1},{id:2,name:"Приготовить здоровый обед",categoryId:1},{id:3,name:"Покормить собаку",categoryId:1},{id:4,name:"Закончить первую главу учебного курса",categoryId:2},{id:5,name:"Послушать музыку",categoryId:2},{id:6,name:"Принять лекарства",categoryId:2},{id:7,name:"Отправить 5 писем с обратной связью",categoryId:3},{id:8,name:"Обновить бухгалтерский учет",categoryId:3},{id:9,name:"Позвонить или написать другу",categoryId:3},{id:10,name:"Курсовой проект",categoryId:4},{id:11,name:"Обработка почты",categoryId:4}]}},provide(){return{tasks:this.tasksArray,categories:this.categoriesArray}}};const R=(0,O.Z)(Q,[["render",d]]);var X=R;(0,s.ri)(X).mount("#app")}},a={};function e(s){var n=a[s];if(void 0!==n)return n.exports;var r=a[s]={exports:{}};return t[s](r,r.exports,e),r.exports}e.m=t,function(){var t=[];e.O=function(a,s,n,r){if(!s){var i=1/0;for(l=0;l<t.length;l++){s=t[l][0],n=t[l][1],r=t[l][2];for(var o=!0,d=0;d<s.length;d++)(!1&r||i>=r)&&Object.keys(e.O).every((function(t){return e.O[t](s[d])}))?s.splice(d--,1):(o=!1,r<i&&(i=r));if(o){t.splice(l--,1);var c=n();void 0!==c&&(a=c)}}return a}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[s,n,r]}}(),function(){e.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(a,{a:a}),a}}(),function(){e.d=function(t,a){for(var s in a)e.o(a,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){var t={143:0};e.O.j=function(a){return 0===t[a]};var a=function(a,s){var n,r,i=s[0],o=s[1],d=s[2],c=0;if(i.some((function(a){return 0!==t[a]}))){for(n in o)e.o(o,n)&&(e.m[n]=o[n]);if(d)var l=d(e)}for(a&&a(s);c<i.length;c++)r=i[c],e.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return e.O(l)},s=self["webpackChunkkanban_vue"]=self["webpackChunkkanban_vue"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=e.O(void 0,[998],(function(){return e(905)}));s=e.O(s)})();
//# sourceMappingURL=app.56b1bc62.js.map